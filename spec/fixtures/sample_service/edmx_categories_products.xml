<?xml version="1.0" encoding="iso-8859-1"?>
<edmx:Edmx Version="1.0" xmlns:edmx="http://schemas.microsoft.com/ado/2007/06/edmx">
  <edmx:DataServices m:DataServiceVersion="1.0" m:MaxDataServiceVersion="3.0" xmlns:m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata">
    <Schema Namespace="RubyODataService" xmlns="http://schemas.microsoft.com/ado/2008/09/edm">
      <EntityType Name="Product">
        <Key>
          <PropertyRef Name="Id"/>
        </Key>
        <Property Name="Id" Nullable="false" Type="Edm.Int32" p6:StoreGeneratedPattern="Identity" xmlns:p6="http://schemas.microsoft.com/ado/2009/02/edm/annotation"/>
        <Property FixedLength="false" MaxLength="4000" Name="Name" Type="Edm.String" Unicode="true"/>
        <Property FixedLength="false" MaxLength="4000" Name="Description" Type="Edm.String" Unicode="true"/>
        <Property Name="Price" Nullable="false" Precision="18" Scale="2" Type="Edm.Decimal"/>
        <Property Name="DiscontinuedDate" Type="Edm.DateTime"/>
        <Property Name="CategoryId" Nullable="false" Type="Edm.Int32"/>
        <Property Name="AuditFields" Nullable="false" Type="RubyODataService.AuditFields"/>
        <NavigationProperty FromRole="Category_Products_Target" Name="Category" Relationship="RubyODataService.Category_Products" ToRole="Category_Products_Source"/>
      </EntityType>
      <ComplexType Name="AuditFields">
        <Property Name="CreateDate" Nullable="false" Type="Edm.DateTime"/>
        <Property Name="ModifiedDate" Nullable="false" Type="Edm.DateTime"/>
        <Property FixedLength="false" MaxLength="4000" Name="CreatedBy" Type="Edm.String" Unicode="true"/>
      </ComplexType>
      <EntityType Name="Category">
        <Key>
          <PropertyRef Name="Id"/>
        </Key>
        <Property Name="Id" Nullable="false" Type="Edm.Int32" p6:StoreGeneratedPattern="Identity" xmlns:p6="http://schemas.microsoft.com/ado/2009/02/edm/annotation"/>
        <Property FixedLength="false" MaxLength="4000" Name="Name" Type="Edm.String" Unicode="true"/>
        <Property Name="AuditFields" Nullable="false" Type="RubyODataService.AuditFields"/>
        <NavigationProperty FromRole="Category_Products_Source" Name="Products" Relationship="RubyODataService.Category_Products" ToRole="Category_Products_Target"/>
      </EntityType>
      <EntityType Name="EdmMetadata">
        <Key>
          <PropertyRef Name="Id"/>
        </Key>
        <Property Name="Id" Nullable="false" Type="Edm.Int32" p6:StoreGeneratedPattern="Identity" xmlns:p6="http://schemas.microsoft.com/ado/2009/02/edm/annotation"/>
        <Property FixedLength="false" MaxLength="4000" Name="ModelHash" Type="Edm.String" Unicode="true"/>
      </EntityType>
      <Association Name="Category_Products">
        <End Multiplicity="*" Role="Category_Products_Target" Type="RubyODataService.Product"/>
        <End Multiplicity="1" Role="Category_Products_Source" Type="RubyODataService.Category">
          <OnDelete Action="Cascade"/>
        </End>
        <ReferentialConstraint>
          <Principal Role="Category_Products_Source">
            <PropertyRef Name="Id"/>
          </Principal>
          <Dependent Role="Category_Products_Target">
            <PropertyRef Name="CategoryId"/>
          </Dependent>
        </ReferentialConstraint>
      </Association>
      <EntityContainer Name="RubyODataContext" m:IsDefaultEntityContainer="true">
        <EntitySet EntityType="RubyODataService.Product" Name="Products"/>
        <EntitySet EntityType="RubyODataService.Category" Name="Categories"/>
        <EntitySet EntityType="RubyODataService.EdmMetadata" Name="EdmMetadatas"/>
        <AssociationSet Association="RubyODataService.Category_Products" Name="Category_Products">
          <End EntitySet="Products" Role="Category_Products_Target"/>
          <End EntitySet="Categories" Role="Category_Products_Source"/>
        </AssociationSet>
        <FunctionImport Name="CleanDatabaseForTesting" m:HttpMethod="POST"/>
        <FunctionImport EntitySet="Categories" Name="EntityCategoryWebGet" ReturnType="Collection(RubyODataService.Category)" m:HttpMethod="GET"/>
        <FunctionImport Name="CategoryNames" ReturnType="Collection(Edm.String)" m:HttpMethod="GET"/>
        <FunctionImport Name="FirstCategoryId" ReturnType="Edm.Int32" m:HttpMethod="GET"/>
        <FunctionImport EntitySet="Categories" Name="EntitySingleCategoryWebGet" ReturnType="RubyODataService.Category" m:HttpMethod="GET">
          <Parameter Name="id" Type="Edm.Int32"/>
        </FunctionImport>
      </EntityContainer>
    </Schema>
  </edmx:DataServices>
</edmx:Edmx>